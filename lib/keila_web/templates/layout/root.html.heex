<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <%= csrf_meta_tag() %>
    <title>
      <%= get_meta(
        @conn,
        view_module(@conn),
        view_template(@conn),
        :title,
        gettext("Pigeon Newsletter Service")
      ) <> " · Pigeon" %>
    </title>
    <meta property="og:description" content="Pigeon — self-hosted email newsletter platform." />
    <meta property="og:image" content={Routes.static_url(@conn, "/images/pigeon_og.png")} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="theme-color" content="#111827" />
    <link rel="icon" type="image/png" href={Routes.static_path(@conn, "/pigeon-favicon.png")} />
    <link rel="manifest" href={Routes.static_path(@conn, "/site.webmanifest")} />
    <link phx-track-static rel="stylesheet" href={Routes.static_path(@conn, "/css/app.css")} />
    <script
      defer
      phx-track-static
      type="text/javascript"
      src={Routes.static_path(@conn, "/js/app.js")}
    >
    </script>
  </head>
  <%= if @current_user do %>
    <body class={["grid grid-cols-1 sm:grid-cols-[16em,1fr]", ui_refresh_class()]}>
      <%= render("_menu.html", assigns) %>
      <div class="page-container">
        <%= @inner_content %>
        <%= render("_footer.html", assigns) %>
      </div>
    </body>
  <% else %>
    <body class={["grid grid-cols-1", ui_refresh_class()]}>
      <%= render("_menu.html", assigns) %>
      <div class="page-container">
        <%= @inner_content %>
        <%= render("_footer.html", assigns) %>
      </div>
    </body>
  <% end %>
</html>
